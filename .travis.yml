#RuleBook Travis CI config for maven deploy
language: java
env:
  global:
    #OSSRH_USERNAME
    - secure: "QtZ0h7bfVQ7Juw3SdaXk77AT5bQUlI3YhBZnOAOhjK6IVlPcYGMUY0J+CK2ogSoCkjoGFK+2PcBYvBalscQ0U3atY/MGvbmLA/uj8OjiFHoW2pdTWPIaiLOucOr6t2QVZoC4eSghpyTUVtdbVLt4h+rN3YRyVqxBC/wdN17lq+xgf2vRMk/4+DQxQrEu8UyvwJB1fPNJcU2goZRPwvxFp+PXQsTGfMWdNpl121lZrUnSk0ua+ZR4mFzWaNNFaQz7rSPhH/kpjhjRfTnH+vf9wYUA6iFxqx6YL0+pL64PFB+nYZnxL2gYYMU2uqnpKaWJ+6Hv0Q1OXOJ88LA6AtE6rlPZhBoglbk744Q8XK84ewwBt3NCTsZ3sM0sez9iWR8lkwmkiPlYxAosFRfVxQ8YYa0uoT1/GDwOBfsd4x3tsxQRFMV6quKAnaxM02tJOC4OxCw9ul/Gd8SJBumxPKLJCNA9Dbc1d1TVhgltyMMEzpz2lBgJwyV1i2xM/JAgoZd/dLP2JjLB397HnpIZYqO8prXKmX0Y+ba73uan6qpkobIJaV7tuDJznTjcrzrGo2akFmCeEcCSe+rKYSx7Y8buYQzDR4AeL4Te/FbP6CII2QK6MdmYvcTyMKnYL9viU+SkkM76EX1mzQrmviMm9Ze/Z6xWGdzFG39Ns0zMMbw1SyY="
    #OSSRH_PASSWORD
    - secure: "UZ5SRC7sZlkP/rBDzThtcYICpGCeaOzVAC0LzazYd1LgyF29EOiSTLhHjhXOr+E03konKAdKm3nVFld4rl5KJNk/egBlelmDQ6MoLLhGiAujukXPVi1rZ1f/ondpFbzysZub2JM6VkNqJRLKOWQbgZRLcmU2XFJVTQhR0G4O7E917RWF83JAXcTW4US5Dwiv3e90ne83wbA0d3CADrCU9FVi3Qqxv8Pu86x3rZFkcS9tvkhKUb0fJfEUwZaf5zs8o7FURrT7KUJ/cCItECEyBhLlX1C2Dm5s8hyhMsvN11LLPZu5uvqSKLCqY5AAsBxK1C0n5qEbT/ZkAPFQEMGQmqDsxayKqrvQAPJSdDx3tcTyd6zlrDmHuUGQNIDb/oQ0bIYR5qWf+ymRyCHGGhaCvoexJvKqQ9wzJIhlzQwAmWn+rwrwNCytP4C9krFlqpIpPqzXLk9pCIpbMMh302567UAmsfhO5/QQWQhaHnKdZKa6qmmG0QeIEhcAbxPZUOOHWHGjJMaU1O29GFioNgMTRLXAusvpx5bRowyHqtyicDapXACcyeqjr3vSXYq87DTe3rJTRcM6FnIa1eFg8KjyOxZVsdDg/RwXauEKBB1EH5SMmB5shwgegvvP6Khr2r5BLCE1i7CGqEUCOvQ6/Az/fRetkVsz+qNqTpffxL4zWpA="
    #SIGN_KEY_ID
    - secure: "jv5JR3GFDneZeIuVZEs99P17w9gsEQrEWiu5ngkXpxLClBZpSHMLns5y2Cx3+qJIqL9AK1tDHFzWb/b5x/2WyqK6Li4w932qhoqFSWlgufjhft3NNrCWOU88qMTyMIV+eAp/fCCcq+YttCUQF9DOBN8EUqdRt7bIU6fMFxeibjfzptxRMQC8O0aYpHBR92kP3g54YRLzQzna2SZ/ufVCXlp0FmwSSIm3nPllBUlGg86lbEvD2AhD/YnHe6OHEKHu+iAo5hDhQrLPLr5QyGFGpSxySWGdQgofxmvHhcv10pt1fTi5yqnQhsuHSOD4ybiQ9RFbOlhUbdtI4ra/DnQtjeBZZWsqjYB0ToN/ia9bkIqySX5Nk8n8wWtnTo26eYTV3mAC2Lwji3XdJCOqkuv8InlvNrlGFWaClM5INbzGlLJ0iyYvrd48OPLqKerWrqkvcf/o416ANN/A4EzULw71Amt8ipDqsP++LoX779qk5ZcdomOUBc3nvZzreGTFkFp45ILNs9ibNlaK7z//3hdL6iTxEAZ61o8zeqH8u8byiDy85q79DQmQFBkTn3awRCPiZOf5zABYqpcGUH0JiIosI6XwvuFav+yBz1Plmds81cWmB2RHnE2mM2ggfRVZ3ONHpCy02WhqwwA5GtOMTjbZX44dLXJ507/yyNoL5PjLchQ="
    #KEY_PASSPHRASE
    - secure: "gWFUwM2b0Ur8brEDpHklgy3ox0EQZUBxlcgaJSlzSa94cgv3klhwwQum5y7S+zPLCRdK6dyp2caHmXBT1iBjOjfi8y9ZXpKddIZY7Ofpy+JQyK4cEBS9PwAOnADPcV7Erm0pn14hzhHjhQKydg45xq5JI+LdlvVaBdaxcjp+CNf11vE49cU2vYh3Xh3uFp72voa5R8+rx5NDp/7CeTdkYGAgnVI7ErAqgOeC/pAjWjzyrxrJfZnI0nus19RnGxG5UWt0hAqWwzQ16ZEGgKJRHUcihF6kp8eHqG5hpUPhQ+JRVcpCPbApT7WXhio0QhbgeVEoRVcT5YcZuJ2FaGqAOTEuPtOqN6rKOTwMB86BrC291r94KSF5ZKUml/hQTai/yZhg3+qzMDQCJmIORpWAJDpwu2L3l2kReHPAMqXU5QVp1emgp22HLbdZTR5A9oJAntuo4x9ZSCNGhqq6JHzgBevfVq3TdxbHbRvWDs/5rPoX6dhaovoj0zSeJ1TDYAvZFA8v06TaQOXcMJo0u22BqrhJGJPyVT59fsvGFGf9Nsswq5xgBw2VVEZ3J6x/2Sx95eYfCKBBFVr1R2kfRTBcr4Q/lnzyXoL4JAYCIdPhsNM6hU+cpjARXdYcK6VNAH57LrmQ7l/B/RX1ohodWGpcZrobUIONG61TFPG998q5WZI="

sudo: false
cache:
  directories:
    - $HOME/.m2/repository
    - $HOME/.gradle
jdk:
  - oraclejdk8
script:
  - ./gradlew check
  - ./gradlew jacocoTestReport
  - ./gradlew coveralls
after_success:
  - coveralls
  - ./cd/before/deploy.sh
  - ./gradlew uploadArchives -PnexusUsername=${OSSRH_USERNAME} -PnexusPassword=${OSSRH_PASSWORD} -Psigning.keyId=${SIGN_KEY_ID} -Psigning.password=${KEY_PASSPHRASE} -PsigningKeyRingFile=./travis_maven_code_signing.asc